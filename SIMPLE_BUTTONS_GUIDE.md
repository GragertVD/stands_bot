# üîò VK Teams Bot - –ö–Ω–æ–ø–∫–∏ ‚úÖ –†–ê–ë–û–¢–ê–Æ–©–ï–ï –†–ï–®–ï–ù–ò–ï

## üéâ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–Ω–æ–ø–æ–∫

**–£–°–ü–ï–®–ù–û –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û** - –∫–Ω–æ–ø–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ VK Teams!

## üöÄ –ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏

### 1. –ß–µ—Ä–µ–∑ N8N webhook

```bash
curl -X POST http://localhost:8000/api/webhook \
  -H "Content-Type: application/json" \
  -d '{
    "chat_id": "user@vkteam.ru",
    "message": "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
    "inline_keyboard_markup": {
      "inlineKeyboard": [
        [
          {"text": "‚úÖ –î–∞", "callbackData": "yes"},
          {"text": "‚ùå –ù–µ—Ç", "callbackData": "no"}
        ],
        [
          {"text": "üåê VK.com", "url": "https://vk.com"}
        ]
      ]
    }
  }'
```

### 2. –ß–µ—Ä–µ–∑ API send-message

```bash
curl -X POST http://localhost:8000/api/send-message \
  -H "Content-Type: application/json" \
  -d '{
    "chat_id": "user@vkteam.ru",
    "message": "–¢–µ—Å—Ç –∫–Ω–æ–ø–æ–∫:",
    "inline_keyboard_markup": {
      "inlineKeyboard": [
        [{"text": "–ö–Ω–æ–ø–∫–∞", "callbackData": "test_btn"}]
      ]
    }
  }'
```

## üìù –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–ü–æ–ª–µ:** `inline_keyboard_markup` - JSON –æ–±—ä–µ–∫—Ç (–Ω–µ —Å—Ç—Ä–æ–∫–∞!)
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```json
{
  "inlineKeyboard": [
    [
      {"text": "–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏", "callbackData": "–¥–∞–Ω–Ω—ã–µ_–¥–ª—è_callback"},
      {"text": "–ö–Ω–æ–ø–∫–∞ 2", "callbackData": "action2"}
    ],
    [
      {"text": "URL –∫–Ω–æ–ø–∫–∞", "url": "https://example.com"}
    ]
  ]
}
```

## üéØ –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ö–Ω–æ–ø–∫–∞ —Å callback (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç):

```json
{
  "chat_id": "user@vkteam.ru",
  "message": "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é:",
  "inline_keyboard_markup": {
    "inlineKeyboard": [
      [
        {"text": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å", "callbackData": "confirm_order_12345"},
        {"text": "–û—Ç–º–µ–Ω–∏—Ç—å", "callbackData": "cancel_order_12345"}
      ]
    ]
  }
}
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫–∏ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å" –∏ "–û—Ç–º–µ–Ω–∏—Ç—å"
2. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å" ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `confirm_order_12345`
3. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "–û—Ç–º–µ–Ω–∏—Ç—å" ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `cancel_order_12345`
4. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `callbackQuery` —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**VK Teams –æ–∂–∏–¥–∞–µ—Ç:**
- –ü–æ–ª–µ `inlineKeyboardMarkup` –≤ form data
- –ó–Ω–∞—á–µ–Ω–∏–µ: JSON-—Å—Ç—Ä–æ–∫–∞ —Å –º–∞—Å—Å–∏–≤–æ–º –º–∞—Å—Å–∏–≤–æ–≤ –∫–Ω–æ–ø–æ–∫

**–ö–æ–¥ –±–æ—Ç–∞ –¥–µ–ª–∞–µ—Ç:**
```python
# –ü–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç {"inlineKeyboard": [...]}
keyboard_obj = json.loads(inline_keyboard_markup)
# –ò–∑–≤–ª–µ–∫–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∫–Ω–æ–ø–æ–∫ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –≤ API
data['inlineKeyboardMarkup'] = json.dumps(keyboard_obj['inlineKeyboard'])
```

## ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –∫–Ω–æ–ø–æ–∫

### 1. Callback –∫–Ω–æ–ø–∫–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∏–ø)
```json
{"text": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å", "callbackData": "confirm"}
```

### 2. URL –∫–Ω–æ–ø–∫–∞
```json
{"text": "üåê –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç", "url": "https://vk.com"}
```

## üì± –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞
```json
{
  "inline_keyboard_markup": {
    "inlineKeyboard": [
      [{"text": "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", "callbackData": "stats"}],
      [{"text": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏", "callbackData": "settings"}],
      [{"text": "‚ùì –ü–æ–º–æ—â—å", "callbackData": "help"}]
    ]
  }
}
```

### –î–∞/–ù–µ—Ç –¥–∏–∞–ª–æ–≥
```json
{
  "inline_keyboard_markup": {
    "inlineKeyboard": [
      [
        {"text": "üëç –î–∞", "callbackData": "yes"},
        {"text": "üëé –ù–µ—Ç", "callbackData": "no"}
      ]
    ]
  }
}
```

### –ß–∏—Å–ª–æ–≤–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
```json
{
  "inline_keyboard_markup": {
    "inlineKeyboard": [
      [
        {"text": "1", "callbackData": "num_1"},
        {"text": "2", "callbackData": "num_2"},
        {"text": "3", "callbackData": "num_3"}
      ],
      [
        {"text": "4", "callbackData": "num_4"},
        {"text": "5", "callbackData": "num_5"},
        {"text": "6", "callbackData": "num_6"}
      ]
    ]
  }
}
```

## üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏:
1. **–ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç** —Å–æ–±—ã—Ç–∏–µ `callbackQuery`
2. **–õ–æ–≥–∏—Ä—É–µ—Ç** –Ω–∞–∂–∞—Ç–∏–µ: `"–ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ –æ—Ç {user}: {callbackData}"`
3. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ N8N** (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
4. **–û—Ç–≤–µ—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é** –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

## üé® –¶–≤–µ—Ç–∞ –∫–Ω–æ–ø–æ–∫

**–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ –º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç–∞ –∫–Ω–æ–ø–æ–∫ –≤ VK Teams?

–ù–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç –≤ –±–∞–∑–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ü–≤–µ—Ç–æ–≤. –í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å emoji –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–∏—è: ‚úÖ‚ùåüîµüü°
- –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã VK Teams API

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** `inline_keyboard_markup` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å JSON-–æ–±—ä–µ–∫—Ç–æ–º, –Ω–µ —Å—Ç—Ä–æ–∫–æ–π
2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ª–µ `inlineKeyboard` —Å –º–∞—Å—Å–∏–≤–æ–º –º–∞—Å—Å–∏–≤–æ–≤
3. **Callback –¥–∞–Ω–Ω—ã–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
4. **URL –∫–Ω–æ–ø–∫–∏:** –†–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫

---

**‚úÖ –≠—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç –†–ê–ë–û–¢–ê–ï–¢ –≤ VK Teams!** üéâ